{{ $name := .Get "name" }}
{{ $type := .Get "type" }}
{{ $required := .Get "required" }}
{{ $allowedValues := .Get "allowedValues" }}
{{ $default := .Get "default" }}
{{ $reference := .Get "reference" }}
{{/* Get description either from attribute or nested content */}}
{{ $description := .Get "description" }}
{{ $example := .Get "example" }}

<div class="config-option">
    <div class="config-option-name">
        <code>{{ $name }}</code>
        <span class="config-option-type">{{ $type }}</span>
        {{ with $required }}
            <span class="config-option-required">{{ if eq . true }}required{{ else }}{{ . | markdownify }}{{ end }}</span>
        {{ end }}
    </div>
    <div class="config-option-description">
        {{ $description | markdownify | safeHTML }}
    </div>
    <div class="config-option-details config-option-details__{{ if .Inner }}full{{ end }}">
        {{ if $default }}
            <div class="config-option-default">
                <span>Default:</span>
                <code>{{ $default | markdownify }}</code>
            </div>
        {{ end }}
        {{ if or $example .Inner }}
        <div class="config-option-example"><span>Example:</span>
            {{ if .Inner }}
                {{ .Inner | markdownify }}
            {{ else }}
                <code>{{ $example | markdownify }}</code>
            {{ end }}
        </div>
        {{ end }}
        {{ if $allowedValues }}
            {{ $values := split $allowedValues "," }}
            <div class="config-option-allowed-values"><span>Allowed values:</span>
                <span class="config-option-allowed-values-list">
                    {{ range $values }}
                        <code>{{ . | markdownify }}</code>
                    {{ end }}
                </span>
            </div>
        {{ end }}
    </div>
</div>

